function openMenu(){var a=document.getElementsByClassName("nav")[0],b=document.getElementsByClassName("content-disable")[0];"nav"===a.className&&(a.classList.add("nav-active"),b.classList.add("active"))}function closeMenu(){var a=document.getElementsByClassName("nav")[0],b=document.getElementsByClassName("content-disable")[0];"nav nav-active"===a.className&&(a.classList.remove("nav-active"),b.classList.remove("active"))}function diningSubMenu(){var a=document.getElementsByClassName("dining")[0];"dining"===a.className?a.classList.add("dining-active"):"dining dining-active"===a.className&&a.classList.remove("dining-active")}function convertToElement(a){var b=document.createElement("div");return b.innerHTML=a,b.childNodes[0]}function addMap(a,b,c){var d=document.getElementById("building"),e=document.getElementById("floor"),f=document.getElementsByClassName("nav")[0],g=document.getElementById("svg-holder");return new Promise(function(h,i){var j=new XMLHttpRequest;j.open("GET",a,!0),j.onload=function(){200!==j.status&&i(Error(j.statusText)),b!==d&&floorDropDown(b),removeMap(),g.appendChild(convertToElement(j.response));var a=g.childNodes[0];a.style.height=f.clientHeight,d.innerHTML=b,e.value=c;var k;k={haltEventListeners:["touchStart","touchend","touchmove","touchleave","touchcancel"],init:function(a){var b=a.instance,c=1,d=0,e=0;this.hammer=Hammer(a.svgElement,{inputClass:Hammer.SUPPORT_POINTER_EVENTS?Hammer.PointerEventInput:Hammer.TouchInput}),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("doubletap",function(a){b.zoomIn()}),this.hammer.on("panstart panmove",function(a){"panstart"===a.type&&(d=0,e=0),b.panBy({x:a.deltaX-d,y:a.deltaY-e}),d=a.deltaX,e=a.deltaY}),this.hammer.on("pinchstart pinchmove",function(a){"pinchstart"===a.type&&(c=b.getZoom(),b.zoom(c*a.scale)),b.zoom(c*a.scale)}),a.svgElement.addEventListener("touchmove",function(a){a.preventDefault()})},destroy:function(){this.hammer.destroy()}};var l=svgPanZoom(a,{controlIconsEnabled:!0,fit:1,center:1,customEventsHandler:k});window.addEventListener("resize",function(){a.style.height=f.clientHeight,l.resize(),l.fit(),l.center()}),h(j.response)},j.onerror=function(){i(Error("Network Error"))},j.send()})}function removeMap(){for(var a=document.getElementById("svg-holder");a.hasChildNodes();)a.removeChild(a.lastChild)}function floorDropDown(a){for(var b=document.getElementById("floor");b.hasChildNodes();)b.removeChild(b.lastChild);var c=[];switch(a){case"A":c=floorsA;break;case"B":c=floorsB;break;case"C":c=floorsC;break;case"C3":c=floorsC3;break;case"D":c=floorsD;break;case"E":c=floorsE;break;case"F":c=floorsF;break;case"H":c=floorsH;break;case"I":c=floorsI;break;case"L":c=floorsL}for(var d=0;d<c.length;d++){var e='<option value="'+c[d]+'">'+c[d]+"</option>";b.appendChild(convertToElement(e))}}function activateRoom(a,b){var c="room-group",d=document.getElementById(a.toLowerCase());if(null===d)alert("No room found for "+a);else{var e=d.className.baseVal;if(e!==c&&!b){if(e===c+" active-room")return void deactivateAllRooms();return}e===c&&(deactivateAllRooms(),d.classList.add("active-room"))}}function deactivateAllRooms(){for(var a="room-group",b=document.getElementsByClassName(a),c=0;c<b.length;c++)b[c].classList.remove("active-room")}function resetWidth(a){console.log("resize"),a.resize(),a.fit(),a.center()}function searchFromBar(a){13!=a.which&&13!=a.keyCode||searchRoomNumber()}function searchFromMenu(a){closeMenu(),document.getElementById("roomSearch").value=a,searchRoomNumber()}function searchRoomNumber(){var a=document.getElementById("roomSearch").value.toUpperCase(),b=a,c=document.getElementById("building").innerHTML,d=document.getElementById("floor").value,e="",f="";switch(5===a.length&&(c=a[0],console.log(c),b=a.substring(1)),c[0].toUpperCase()){case"A":alert("A Building not currently searchable");break;case"B":alert("B Building not currently searchable");break;case"C":"3"===b[1]?"2"===b[0]?(e="C3",f="2"):"1"===b[0]?(e="C3",f="1"):"G"===b[0].toUpperCase()&&(e="C3",f="G"):"2"===b[0]?(e="C",f="2"):"1"==b[0]&&(e="C",f="1");break;case"D":alert("D Building not currently searchable");break;case"E":alert("E Building not currently searchable");break;case"F":alert("F Building not currently searchable");break;case"H":alert("H Building not currently searchable");break;case"I":alert("I Building not currently searchable");break;case"L":alert("L Building not currently searchable");break;default:alert(b+" is an invalid room number. Please don't use any spaces")}c!==e||d!==f?searchNewFloor(e,f,b):activateRoom(b,!0)}function getMap(a,b){var c="";switch(a){case"A":break;case"B":break;case"C":c="1"===b?buildingC[0]:buildingC[1];break;case"C3":c="2"===b?buildingC3[2]:"1"===b?buildingC3[1]:buildingC3[0];break;case"D":break;case"E":break;case"F":break;case"H":break;case"I":break;case"L":}return c}function changeFloor(a,b){closeMenu();var c=a.toUpperCase(),d=document.getElementById("roomSearch");d.value="",c=getMap(a,b),""!==c&&addMap(c,a,b).then(function(a){activateRoom(roomNum,!0)},function(a){console.error("Failed!",a)})}function searchNewFloor(a,b,c){var d=a,e=document.getElementById("building"),f=document.getElementById("floor");e.innerHTML===a&&f.value===b||(d=getMap(a.toUpperCase(),b),""!==d&&addMap(d,a,b).then(function(a){activateRoom(c,!0)},function(a){console.error("Failed!",a)}))}var buildingA,buildingB,buildingC=["Building/C/First-Floor.html","Building/C/Second-Floor.html"],buildingC3=["Building/C3/Ground-Floor.html","Building/C3/First-Floor.html","Building/C3/Second-Floor.html"],buildingD,buildingE,buildingF,buildingH,buildingI,buildingL=["Building/L/First-Floor.html","Building/L/Second-Floor.html","Building/L/Third-Floor.html"],floorsA=["1"],floorsB=["1","2","3"],floorsC=["1","2"],floorsC3=["G","1","2"],floorsD=["1","2"],floorsE=["1","2","3"],floorsF=["1","2"],floorsH=["1","2","3"],floorsI=["1","2"],floorsL=["1","2","3"];document.addEventListener("DOMContentLoaded",function(){addMap(buildingC[0],"C","1").then(function(a){floorDropDown("C"),document.getElementById("floor").value="1"},function(a){console.error("Failed!",a)})});